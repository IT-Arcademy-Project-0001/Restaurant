<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title> 카카오지도 장소등록 </title>
    <link rel="stylesheet" href="/MapRegistOpentime.css">
</head>
<body>
<nav th:fragment="navbarFragment" >
<div>
    <div class="time_modal">
        <input type="text" class="regist_text"  id="popup_open_btn" placeholder="매장의 영업시간, 휴무일을 작성해주세요.">

        <div id="time_modal" style="overflow : auto; max-height : 51%;">
            <div class="time_array" style="margin : 15px;">
                <form id="targetCreateForm" name="targetCreateForm" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <span style="font-size : 20px; font-weight : bold; justify-content: center;  align-items: center; display: flex;"> 영업시간 </span>
                    <button class="modal_close_btn"
                            style="margin-left : 95%; font-size : 13px; font-weight : bold;">X
                    </button>
                    <div th:if="${message != null}" th:text="${message}" class="message" style="color : red; font-weight : bold; margin-top : 2px;"></div>
                    <div class="time_table" style="text-align : center;" >
                        <div style="margin-top : 17px;">
                            <span type="text"  value="monday" style="font-size : 16px; font-weight : bold;">MON</span>
                            <div style="margin-bottom : 8px;">
                                <input type="radio" name ="mon" onclick="open_1()"/>
                                <span>영업일</span>
                                <input type="radio" name ="mon" onclick="close_1()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_1" style="display : none;" >
                                    <input class="time" id="monday_str_time" type="time">
                                    ~
                                    <input class="time" id="monday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                        <div>
                            <span type="text"  value="tuesday" style="font-size : 16px; font-weight : bold;">TUE</span>
                            <div style="margin-bottom : 8px;">
                                <input type="radio" name ="tue" onclick="open_2()"/>
                                <span>영업일</span>
                                <input type="radio" name ="tue" onclick="close_2()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_2" style="display : none;" >
                                    <input class="time" id="tuesday_str_time" type="time">
                                    ~
                                    <input class="time" id="tuesday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                        <div>
                            <span type="text"  value="wedday" style="font-size : 16px; font-weight : bold;">WED</span>
                            <div style="margin-bottom : 8px;">
                                <input type="radio" name ="wed" onclick="open_3()"/>
                                <span>영업일</span>
                                <input type="radio" name ="wed" onclick="close_3()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_3" style="display : none;" >
                                    <input class="time" id="wedday_str_time" type="time">
                                    ~
                                    <input class="time" id="wedday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                        <div>
                            <span type="text"  value="thuday" style="font-size : 16px; font-weight : bold;">THU</span>
                            <div style="margin-bottom : 8px;">
                                <input type="radio" name ="thu" onclick="open_4()"/>
                                <span>영업일</span>
                                <input type="radio" name ="thu" onclick="close_4()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_4" style="display : none;" >
                                    <input class="time" id="thuday_str_time" type="time">
                                    ~
                                    <input class="time" id="thuday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                        <div>
                            <span type="text"  value="friday" style="font-size : 16px; font-weight : bold;">FRI</span>
                            <div style="margin-bottom : 8px;">
                                <input type="radio" name ="fri" onclick="open_5()"/>
                                <span>영업일</span>
                                <input type="radio" name ="fri" onclick="close_5()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_5" style="display : none;" >
                                    <input class="time" id="friday_str_time" type="time">
                                    ~
                                    <input class="time" id="friday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                        <div>
                            <span type="text"  value="satday" style="font-size : 16px; font-weight : bold;">SAT</span>
                            <div style="margin-bottom : 8px;">
                                <input type="radio" name ="sat" onclick="open_6()"/>
                                <span>영업일</span>
                                <input type="radio" name ="sat" onclick="close_6()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_6" style="display : none;" >
                                    <input class="time" id="satday_str_time" type="time">
                                    ~
                                    <input class="time" id="satday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                        <div>
                            <span type="text"  value="sunday" style="font-size : 16px; font-weight : bold;">SUN</span>
                            <div>
                                <input type="radio" name ="sun" onclick="open_7()"/>
                                <span>영업일</span>
                                <input type="radio" name ="sun" onclick="close_7()"/>
                                <span>휴무일</span>
                                <div class="time_click" id="timeClickContainer_7" style="display : none;" >
                                    <input class="time" id="sunday_str_time" type="time">
                                    ~
                                    <input class="time" id="sunday_end_time" type="time">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top : 5%;">
                        <button type="button" style="margin-left : 15%;" class="registBtn" onclick="registPlace()">등록</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>

    function registPlace(){
    var x = document.getElementById("monday_str_time").value;
        console.log(x);
    }

    var timeClickContainer = document.getElementById("timeClickContainer_1");
    var str_time = document.getElementById("monday_str_time");
    var end_time = document.getElementById("monday_end_time");
    function open_1(){
        timeClickContainer.style.display = "block";
    }
    function close_1(){
        timeClickContainer.style.display = "none";
        str_time.value = "";
        end_time.value = "";
    }

    var timeClickContainer2 = document.getElementById("timeClickContainer_2");
    var str_time2 = document.getElementById("tuesday_str_time");
    var end_time2 = document.getElementById("tuesday_end_time");
    function open_2(){
        timeClickContainer2.style.display = "block";
    }
    function close_2(){
        timeClickContainer2.style.display = "none";
        str_time2.value = "";
        end_time2.value = "";
    }

    var timeClickContainer3= document.getElementById("timeClickContainer_3");
    var str_time3 = document.getElementById("wedday_str_time");
    var end_time3 = document.getElementById("wedday_end_time");
    function open_3(){
        timeClickContainer3.style.display = "block";
    }
    function close_3(){
        timeClickContainer3.style.display = "none";
        str_time3.value = "";
        end_time3.value = "";
    }

    var timeClickContainer4 = document.getElementById("timeClickContainer_4");
    var str_time4 = document.getElementById("thuday_str_time");
    var end_time4 = document.getElementById("thuday_end_time");
    function open_4(){
        timeClickContainer4.style.display = "block";
    }
    function close_4(){
        timeClickContainer4.style.display = "none";
        str_time4.value = "";
        end_time4.value = "";
    }

    var timeClickContainer5 = document.getElementById("timeClickContainer_5");
    var str_time5 = document.getElementById("friday_str_time");
    var end_time5 = document.getElementById("friday_end_time");
    function open_5(){
        timeClickContainer5.style.display = "block";
    }
    function close_5(){
        timeClickContainer5.style.display = "none";
        str_time5.value = "";
        end_time5.value = "";
    }

    var timeClickContainer6 = document.getElementById("timeClickContainer_6");
    var str_time6 = document.getElementById("satday_str_time");
    var end_time6 = document.getElementById("satday_end_time");
    function open_6(){
        timeClickContainer6.style.display = "block";
    }
    function close_6(){
        timeClickContainer6.style.display = "none";
        str_time6.value = "";
        end_time6.value = "";
    }

    var timeClickContainer7 = document.getElementById("timeClickContainer_7");
    var str_time7 = document.getElementById("sunday_str_time");
    var end_time7 = document.getElementById("sunday_end_time");
    function open_7(){
        timeClickContainer7.style.display = "block";
    }
    function close_7(){
        timeClickContainer7.style.display = "none";
        str_time7.value = "";
        end_time7.value = "";
    }


    function modal(id) {
            var zIndex = 9999;
            var modal = document.getElementById(id);

            // 모달 div 뒤에 희끄무레한 레이어
            var bg = document.createElement('div');
            bg.setStyle({
                position: 'fixed',
                zIndex: zIndex,
                left: '0px',
                top: '0px',
                width: '100%',
                height: '100%',
                overflow: 'auto',
                // 레이어 색갈은 여기서 바꾸면 됨
                backgroundColor: 'rgba(0,0,0,0.4)'
            });
            document.body.append(bg);

            // 모달이 열릴 때 내용을 저장
            originalModalContent = modal.innerHTML;

            // 닫기 버튼 처리, 시꺼먼 레이어와 모달 div 지우기
            modal.querySelector('.modal_close_btn').addEventListener('click', function() {
                bg.remove();
                modal.innerHTML = originalModalContent;
                modal.style.display = 'none';
            });

            modal.setStyle({
                position: 'fixed',
                display: 'block',
                boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

                // 시꺼먼 레이어 보다 한칸 위에 보이기
                zIndex: zIndex + 1,

                // div center 정렬
                top: '50%',
                left: '50%',
                transform: 'translate(-50%, -50%)',
                msTransform: 'translate(-50%, -50%)',
                webkitTransform: 'translate(-50%, -50%)'
            });
        }

    // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
    Element.prototype.setStyle = function(styles) {
        for (var k in styles) this.style[k] = styles[k];
        return this;
    };

    document.getElementById('popup_open_btn').addEventListener('click', function() {
        // 모달창 띄우기
        modal('time_modal');
    });
</script>
</nav>
</body>
</html>